//const char wifi_config_html[] PROGMEM = "<!DOCTYPE html> <html lang=\"en\"> <head> <link rel=\"stylesheet\" href=\"style.css\"> <meta charset=\"UTF-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <title>Configurazione WiFi ESP</title> <style></style> </head> <body> <h1>Configurazione WiFi ESP</h1> <form method=\"get\"> <label for=\"networks\">Seleziona la rete WiFi:</label> <select id=\"networks\" onchange=\"updateSSID(this)\"><option disabled selected hidden> -- Seleziona una rete WiFi -- </option> %W_NETWORKS% </select><br> <label for=\"ssid\">Nome della rete WiFi:</label> <input type=\"text\" id=\"ssid\" name=\"ssid\" placeholder=\"Inserisci il nome della rete WiFi\" required><br> <label for=\"password\">Password:</label> <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Inserisci la password della rete WiFi\" required><br> <label for=\"hostname\">Hostname:</label> <input type=\"text\" id=\"hostname\" name=\"hostname\" placeholder=\"Inserisci l\'hostname del dispositivo\" required><br> <input type=\"submit\" value=\"Connetti\"> </form> <script> function updateSSID(selectElement) { var selectedSSID = selectElement.value; document.getElementById(\"ssid\").value = selectedSSID; } </script> </body> </html>";
//const char style[] PROGMEM = "body { font-family: Arial, sans-serif; margin: 20px; padding: 10px; } h1 { text-align: center; } form { max-width: 400px; margin: 0 auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; } input[type=\"text\"], input[type=\"password\"], select { width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box; } input[type=\"submit\"] { width: 100%; padding: 10px; margin-top: 10px; box-sizing: border-box; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; } input[type=\"submit\"]:hover { background-color: #45a049; }";
//const char rebootPage[] PROGMEM = "<!doctype html>\n<html>\n  <head>\n    <title>HA Gate</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n  </head>\n  <body>\n    <main id=\"rebootmain\">\n      <h2>The module is rebooting</h2>\n      <h3>Make sure that you are connected to the right network if you have changed your wifi settings!</h3>\n    </main>\n  </body>\n</html>\n";
//const char wifi_config_html[] PROGMEM = "<!DOCTYPE html>\n<html>\n    <head>\n        <title>Wifi Configuration Page</title>\n        <link rel=\"stylesheet\" href=\"./configuration-style.css\">\n    </head>\n\n    <body>\n        <div class=\"conf-form\"  id=\"centered-item\">\n            <div class=\"page-title\" id=\"centered-item\">Wifi Configuration Page</div>\n            <div id=\"ssid-selection-div\">\n                <label for=\"ssid-select\">Select wifi:</label>\n                <select name=\"ssid-select\" id=\"ssid-select\" onchange=\"updateSSID(this)\">\n                    <option disabled hidden selected>-- SSID --</option>\n                </select>\n                <button onclick=\"loadWifi()\">Scan Wi-Fi</button>\n            </div>\n            <form method=\"get\" target=\"_self\">\n                <div id=\"selection-result-div\">\n                    <div id=\"device-textarea\">\n                        <label for=\"device-textarea\">Hostname:</label>\n                        <input type=\"text\" name=\"hostname\" value=\"%DEFAULT_HOSTNAME%\">\n                    </div>\n                    <div id=\"ssid-textarea\">\n                        <label for=\"ssid-textarea\">SSID:</label>\n                        <input type=\"text\" name=\"ssid\" value=\"%SAVED_SSID%\" id=\"ssid\">\n                    </div>\n                    <div>\n                        <label for=\"pw-textarea\">PASSWORD:</label>\n                        <input type=\"password\" name=\"password\" id=\"password\" value=\"%SAVED_PASSWORD%\">\n                    </div>\n                    <input id=\"confirm-button\" type=\"submit\" value=\"SAVE\">\n                </div>\n            </form>\n        </div>\n    </body>\n    <script>\n        function updateSSID(selectElement) {\n            var selectedSSID = selectElement.value;\n            document.getElementById(\"ssid\").value = selectedSSID;\n            document.getElementById(\"password\").value= \"\";\n        }\n        function loadWifi() {\n            const xhttp = new XMLHttpRequest();\n            xhttp.onload = function () {\n                if (xhttp.readyState == 4 && xhttp.status == 200) {\n                    try {\n                        wifiNetworks = JSON.parse(this.responseText);\n                        if (wifiNetworks.length != 0) {\n                            let selectField = document.getElementById(\"ssid-select\");\n                            selectField.innerHTML=\"\";\n                            selectField.innerHTML = `<option hidden disabled selected> -- SSID -- </option>`;\n                            for(let i=0;i < wifiNetworks.length;i++){\n                                var option = document.createElement(\"option\");\n                                option.text = wifiNetworks[i].ssid;\n                                selectField.add(option);\n                            }\n                        }\n                        else {\n                        }\n                    } catch (e) {\n                        alert(error);\n                    }\n                }\n                else if(xhttp.readyState == 4 && xhttp.status != 200){\n                    alert(\"Errore nella richiesta di rete: \"+xhttp.status);\n                }\n            }\n            xhttp.open(\"GET\", \"/scan\");\n            xhttp.send();\n        }\n        loadWifi();\n    </script>\n</html>";
// const char errorPage[] PROGMEM = "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Module error</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"conf-form\">\n        <div class=\"page-title\" id=\"centered-item\" style=\"text-align: center;\">Module error</div>\n        <div id=\"restarting-status\" style=\"text-align: center;\">\n            <p>Oops!! Something happens</p> \n            <input id=\"confirm-button\" class=\"confirm-button\" type=\"submit\" value=\"Back to home\" onclick=\"window.location.href=\'menu.html\'\">\n        </div>\n    </div>\n</body>\n</html>";
// const char menuPage[] PROGMEM = "<!DOCTYPE html>\n<html>\n<head>\n    <title>Menu</title>\n    <link rel=\"stylesheet\" href=\"./style.css\">\n</head>\n<body>\n    <div class=\"conf-form\">\n        <div class=\"page-title\">came wifi</div>\n        <div class=\"page-title\">MQTT: %MQTT_STATUS%</div>\n        <div class=\"menu\">\n            <button onclick=\"window.location.href='wifi'\" class=\"menu-button\">WiFi Configuration</button>\n            <button onclick=\"window.location.href='mqtt'\" class=\"menu-button\">MQTT Configuration</button>\n            <button onclick=\"window.location.href='module-configuration.html'\" class=\"menu-button\">Module Configuration</button>\n            <button onclick=\"confirmReboot()\" class=\"menu-button red-button\">Reboot</button>\n            <button onclick=\"confirmReset()\" class=\"menu-button red-button\">Reset</button>\n        </div>\n    </div>\n    <script>\n        function confirmReboot(){\n            if(confirm(\"Do you want reboot the module?\")){\n                window.location.href=\"reboot\";\n            }\n        }\n        function confirmReset(){\n            text = prompt(\"Do you want reset the module?\\nFor confirm type RESET below\");\n            if(text == \"RESET\"){\n                const xhttp = new XMLHttpRequest();\n                const form = new FormData();\n                form.append(\"checked\",true);\n                xhttp.onload = function () {\n                    if (xhttp.readyState == 4 && xhttp.status == 200) {\n                        window.location.href=\"reboot\";\n                    }\n                    else if(xhttp.readyState == 4 && xhttp.status != 200){\n                        alert(\"Errore nella richiesta di rete: \"+xhttp.status);\n                    }\n                }\n                xhttp.open(\"POST\", \"/reset\");\n                xhttp.send();\n            }\n        }\n    </script>\n</body>\n</html>\n";
// const char mqttConfigHtml[] PROGMEM = "<!DOCTYPE html>\n<html>\n<head>\n    <title>MQTT Configuration Page</title>\n    <link rel=\"stylesheet\" href=\"./style.css\">\n</head>\n\n<body>\n<div class=\"conf-form\" id=\"centered-item\">\n    <div class=\"page-title\" id=\"centered-item\">MQTT</div>\n    \n    <form method=\"post\" target=\"_self\">\n        <div id=\"selection-result-div\">\n            <div id=\"broker-textarea\" class=\"broker-textarea\">\n                <label for=\"broker\">IP or hostname:</label>\n                <input type=\"text\" name=\"broker\" required maxlength=\"50\" value=\"%BROKER%\">\n            </div>\n            <div id=\"port-textarea\" class=\"port-textarea\">\n                <label for=\"port\">Port:</label>\n                <input type=\"number\" name=\"port\" required value=\"%PORT%\">\n            </div>\n            <div id=\"user-textarea\" class=\"user-textarea\">\n                <label for=\"user\">Username:</label>\n                <input type=\"text\" name=\"username\" id=\"username\" maxlength=\"30\" value=\"%USERNAME%\">\n            </div>\n            <div class=\"pw-textarea\">\n                <label for=\"password\">Password:</label>\n                <input type=\"password\" name=\"password\" id=\"password\" maxlength=\"30\" value=\"%PASSWORD%\">\n            </div>\n            <div id=\"availability-topic-textarea\" class=\"availability-topic-textarea\" >\n                <label for=\"availability-topic\">Availability topic:</label>\n                <input type=\"text\" name=\"availability-topic\" id=\"availability-topic\" maxlength=\"60\" value=\"%AVAILABILITY_TOPIC%\">\n            </div>\n            <div id=\"command-topic-textarea\" class=\"command-topic-textarea\">\n                <label for=\"command-topic\">Command topic:</label>\n                <input type=\"text\" name=\"command-topic\" id=\"command-topic\" required maxlength=\"60\" value=\"%COMMAND_TOPIC%\">\n            </div>\n            <div id=\"state-topic-textarea\" class=\"state-topic-textarea last-option\">\n                <label for=\"state-topic\">State topic:</label>\n                <input type=\"text\" name=\"state-topic\" id=\"state-topic\" required maxlength=\"60\" value=\"%STATE_TOPIC%\">\n            </div>\n\n            <input id=\"confirm-button\" class=\"confirm-button\" type=\"submit\" value=\"SAVE\">\n        </div>\n    </form>\n</div>\n</body>\n</html>\n";
const char rebootPage[] PROGMEM = "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Module Restarting</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"conf-form\">\n        <div class=\"page-title\" id=\"centered-item\" style=\"text-align: left;\">The module is restarting...</div>\n        <div id=\"restarting-status\">\n            <p>Check the connection with the device</p>\n        </div>\n    </div>\n</body>\n</html>";
const char style[] PROGMEM = "/* LAYOUT MOBILE */\n\n@media only screen and (max-width: 1000px) {\n    /*REGOLE DI STILE GENERICHE*/\n    body {\n        height: 100vh;\n        width: 100vw;\n        margin: 0;\n        font-family: Arial, sans-serif; /* Utilizzo del font di default */\n        background-color: #333; /* Colore di sfondo del tema scuro */\n        color: #fff; /* Colore del testo */\n        display: flex;\n        align-content: center;\n        justify-content: center;\n    }\n\n    .conf-form {\n        width: 90%;\n        height: 90%;\n        padding: 20px;\n        background-color: #444; /* Sfondo del form */\n        border-radius: 12px;\n        position: relative;\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    .page-title {\n        height: 10%;\n        font-size: 6vh;\n        text-align: center;\n        margin-bottom: 20px;\n    }\n\n    label {\n        display: block;\n        height: 25%;\n        margin-bottom: 5px;\n        color: #ccc; /* Colore del testo delle etichette */\n    }\n\n    select, input[type=\"text\"], input[type=\"password\"], input[type=\"number\"] {\n        width: 100%;\n        height: 65%;\n        padding: 10px;\n        margin-bottom: 10px;\n        border: 1px solid #555; /* Colore del bordo */\n        border-radius: 3px;\n        box-sizing: border-box;\n        background-color: #555; /* Colore di sfondo degli input */\n        color: #fff; /* Colore del testo degli input */\n    }\n\n    button, input[type=\"submit\"] {\n        display: block;\n        width: 100%;\n        padding: 10px;\n        background-color: #008CBA; /* Colore di base per i bottoni */\n        color: white;\n        border: none;\n        border-radius: 3px;\n        cursor: pointer;\n    }\n\n    button:hover, input[type=\"submit\"]:hover {\n        background-color: #0077A3; /* Colore al passaggio del mouse */\n    }\n\n    .confirm-button {\n        background-color: #008CBA; /* Colore di base per il bottone di conferma */\n    }\n\n    .confirm-button:hover {\n        background-color: #0077A3; /* Colore al passaggio del mouse per il bottone di conferma */\n    }\n\n    .last-option {\n        margin-bottom: 10px;\n    }\n\n    form{\n        height: 100%;\n    }\n\n    /*REGOLE DI STILE INDEX PAGE*/\n    .status {\n        height: 10%;\n        text-align: center;\n        font-size: 3vh;\n        margin-bottom: 10px;\n    }\n\n    .menu {\n        display: flex;\n        height: 70%;\n        flex-direction: column;\n        align-items: center;\n    }\n\n    .menu-button, .red-button {\n        padding: 10px 20px;\n        margin: 5px 0;\n        width: 100%;\n        height: 20%;\n        background-color: #008CBA;\n        color: white;\n        border: none;\n        border-radius: 12px;\n        cursor: pointer;\n        transition: background-color 0.3s ease;\n        font-size: 4vh;\n    }\n\n    .version-number {\n        text-align: right;\n        font-size: 3vh;\n        color: lightslategray;\n        padding-top: 10px;\n        padding-right: 10px;\n    }\n\n    button.red-button {\n        background-color: #BA0037;\n    }\n\n    .menu-button:hover {\n        background-color: #0077A3;\n    }\n\n    button.red-button:hover {\n        background-color: #950026;\n    }\n\n    /*REGOLE DI STILE WIFI PAGE*/\n    #ssid-selection-div {\n        margin-bottom: 20px;\n        height: 25%;\n    }\n\n    #ssid-selection-div *{\n        font-size: 2vh;\n        height: 30%;\n    }\n\n    #wifi-form {\n        height: 40%;\n    }\n\n    #wifi-form #selection-result-div {\n        height: 100%;\n    }\n\n    #wifi-form #selection-result-div > *{\n        font-size: 2vh;\n        height: 25%;\n    }\n\n    .textarea > *{\n        font-size: 2vh;\n    }\n\n    #menu-button {\n        font-size: 4vh;\n    }\n\n    /*REGOLE DI STILE MQTT PAGE*/\n    #mqtt-form {\n        height: 80%;\n    }\n\n    #mqtt-form #selection-result-div {\n        height: 100%;\n    }\n\n    #mqtt-form #selection-result-div > *{\n        height: 12%;\n    }\n\n    #mqtt-form #selection-result-div *{\n        font-size: 2vh;\n    }\n\n    #mqtt-form #selection-result-div #menu-button{\n        font-size: 4vh;\n    }\n}\n\n\n\n\n\n\n\n\n\n/* LAYOUT DESKTOP */\n\n@media only screen and (min-width: 1000px) {\n    body {\n        height: 100vh;\n        width: 100vw;\n        overflow: hidden;\n        font-family: Arial, sans-serif; /* Utilizzo del font di default */\n        background-color: #333; /* Colore di sfondo del tema scuro */\n        color: #fff; /* Colore del testo */\n    }\n\n    .conf-form {\n        max-width: 400px;\n        margin: 0 auto;\n        padding: 20px;\n        background-color: #444; /* Sfondo del form */\n        border-radius: 5px;\n        position: relative;\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    .status {\n        text-align: center;\n        margin-bottom: 10px;\n    }\n\n    .menu {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n\n    .menu-button, .red-button {\n        padding: 10px 20px;\n        margin: 5px 0;\n        width: 100%;\n        background-color: #008CBA;\n        color: white;\n        border: none;\n        border-radius: 3px;\n        cursor: pointer;\n        transition: background-color 0.3s ease;\n    }\n\n    .version-number {\n        text-align: right;\n        font-size: 2vh;\n        color: lightslategray;\n        padding-top: 10px;\n        padding-right: 10px;\n    }\n\n    button.red-button {\n        background-color: #BA0037;\n    }\n\n    .menu-button:hover {\n        background-color: #0077A3;\n    }\n\n    button.red-button:hover {\n        background-color: #950026;\n    }\n\n    .page-title {\n        font-size: 24px;\n        text-align: center;\n        margin-bottom: 20px;\n    }\n\n    #ssid-selection-div {\n        margin-bottom: 20px;\n    }\n\n    label {\n        display: block;\n        margin-bottom: 5px;\n        color: #ccc; /* Colore del testo delle etichette */\n    }\n\n    select, input[type=\"text\"], input[type=\"password\"], input[type=\"number\"] {\n        width: 100%;\n        padding: 10px;\n        margin-bottom: 10px;\n        border: 1px solid #555; /* Colore del bordo */\n        border-radius: 3px;\n        box-sizing: border-box;\n        background-color: #555; /* Colore di sfondo degli input */\n        color: #fff; /* Colore del testo degli input */\n    }\n\n    button, input[type=\"submit\"] {\n        display: block;\n        width: 100%;\n        padding: 10px;\n        background-color: #008CBA; /* Colore di base per i bottoni */\n        color: white;\n        border: none;\n        border-radius: 3px;\n        cursor: pointer;\n    }\n\n    button:hover, input[type=\"submit\"]:hover {\n        background-color: #0077A3; /* Colore al passaggio del mouse */\n    }\n\n    .confirm-button {\n        background-color: #008CBA; /* Colore di base per il bottone di conferma */\n    }\n\n    .confirm-button:hover {\n        background-color: #0077A3; /* Colore al passaggio del mouse per il bottone di conferma */\n    }\n\n    .last-option {\n        margin-bottom: 10px;\n    }\n}\n\n";
// const char wifiConfigHtml[] PROGMEM = "<!DOCTYPE html>\n<html>\n<head>\n    <title>Wifi Configuration</title>\n    <link rel=\"stylesheet\" href=\"./style.css\">\n</head>\n\n<body>\n<div class=\"conf-form\" id=\"centered-item\">\n    <div class=\"page-title\" id=\"centered-item\">WIFI</div>\n    <div id=\"ssid-selection-div\">\n        <label for=\"ssid-select\">Select wifi:</label>\n        <select name=\"ssid-select\" id=\"ssid-select\" onchange=\"updateSSID(this)\">\n            <option disabled hidden selected>-- SSID --</option>\n        </select>\n        <button onclick=\"loadWifi()\">Scan Wi-Fi</button>\n    </div>\n    <form method=\"post\" target=\"_self\">\n        <div id=\"selection-result-div\">\n            <div id=\"device-textarea\" class=\"device-textarea\">\n                <label for=\"device-textarea\">Hostname:</label>\n                <input type=\"text\" name=\"hostname\" required maxlength=\"50\" value=\"%SAVED_HOSTNAME%\">\n            </div>\n            <div id=\"ssid-textarea\" class=\"ssid-textarea\">\n                <label for=\"ssid-textarea\">SSID:</label>\n                <input type=\"text\" name=\"ssid\" id=\"ssid\" required maxlength=\"30\" value=\"%SAVED_SSID%\">\n            </div>\n            <div class=\"pw-textarea last-option\">\n                <label for=\"pw-textarea\">Password:</label>\n                <input type=\"password\" name=\"password\" id=\"password\" maxlength=\"30\" value=\"%SAVED_PASSWORD%\">\n            </div>\n            <input id=\"confirm-button\" class=\"confirm-button\" type=\"submit\" value=\"SAVE\">\n        </div>\n    </form>\n</div>\n</body>\n<script>\n    function updateSSID(selectElement) {\n        var selectedSSID = selectElement.value;\n        document.getElementById(\"ssid\").value = selectedSSID;\n        document.getElementById(\"password\").value= \"\";\n    }\n    function loadWifi() {\n        const xhttp = new XMLHttpRequest();\n        xhttp.onload = function () {\n            if (xhttp.readyState == 4 && xhttp.status == 200) {\n                try {\n                    wifiNetworks = JSON.parse(this.responseText);\n                    if (wifiNetworks.length != 0) {\n                        let selectField = document.getElementById(\"ssid-select\");\n                        selectField.innerHTML=\"\";\n                        selectField.innerHTML = `<option hidden disabled selected> -- SSID -- </option>`;\n                        for(let i=0;i < wifiNetworks.length;i++){\n                            var option = document.createElement(\"option\");\n                            option.text = wifiNetworks[i].ssid;\n                            selectField.add(option);\n                        }\n                    }\n                    else {\n                    }\n                } catch (e) {\n                    alert(error);\n                }\n            }\n            else if(xhttp.readyState == 4 && xhttp.status != 200){\n                alert(\"Errore nella richiesta di rete: \"+xhttp.status);\n            }\n        }\n        xhttp.open(\"GET\", \"/scan\");\n        xhttp.send();\n    }\n    loadWifi();\n</script>\n</html>\n";
const char errorPage[] PROGMEM = "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Module error</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"conf-form\">\n        <div class=\"page-title\" id=\"centered-item\" style=\"text-align: center;\">Module error</div>\n        <div id=\"restarting-status\" style=\"text-align: center;\">\n            <p>Oops!! Something happens</p> \n            <input id=\"confirm-button\" class=\"confirm-button\" type=\"submit\" value=\"Back to home\" onclick=\"window.location.href='menu.html'\">\n        </div>\n    </div>\n</body>\n</html>";
const char wifiConfigPage[] PROGMEM = "<!DOCTYPE html>\n<html lang=\"it\">\n<head>\n    <title>Wifi Configuration</title>\n    <link rel=\"stylesheet\" href=\"./style.css\">\n</head>\n\n<body>\n<div class=\"conf-form\">\n    <div class=\"page-title\">WIFI</div>\n    <div id=\"ssid-selection-div\">\n        <label for=\"ssid-select\">Select wifi:</label>\n        <select name=\"ssid-select\" id=\"ssid-select\" onchange=\"updateSSID(this)\">\n            <option disabled hidden selected>-- SSID --</option>\n        </select>\n        <button class=\"menu-button\" onclick=\"loadWifi()\">Scan Wi-Fi</button>\n    </div>\n    <div id=\"wifi-form\">\n        <form method=\"post\" target=\"_self\">\n            <div id=\"selection-result-div\">\n                <div id=\"device-textarea\" class=\"textarea\">\n                    <label for=\"device\">Hostname:</label>\n                    <input type=\"text\" name=\"hostname\" value=\"%SAVED_HOSTNAME%\" id=\"device\" required maxlength=\"50\">\n                </div>\n                <div id=\"ssid-textarea\" class=\"textarea\">\n                    <label for=\"ssid\">SSID:</label>\n                    <input type=\"text\" name=\"ssid\" value=\"%SAVED_SSID%\" id=\"ssid\" required maxlength=\"30\">\n                </div>\n                <div id=\"pw-textarea\" class=\"textarea last-option\">\n                    <label for=\"password\">Password:</label>\n                    <input type=\"password\" name=\"password\" value=\"%SAVED_PASSWORD%\" id=\"password\" maxlength=\"30\">\n                </div>\n                <input id=\"menu-button\" class=\"menu-button\" type=\"submit\" value=\"SAVE\">\n            </div>\n        </form>\n    </div>\n</div>\n</body>\n<script>\n    function updateSSID(selectElement) {\n        document.getElementById(\"ssid\").value = selectElement.value;\n        document.getElementById(\"password\").value= \"\";\n    }\n    function loadWifi() {\n        const xhttp = new XMLHttpRequest();\n        xhttp.onload = function () {\n            if (xhttp.readyState === 4 && xhttp.status === 200) {\n                try {\n                    wifiNetworks = JSON.parse(this.responseText);\n                    if (wifiNetworks.length !== 0) {\n                        let selectField = document.getElementById(\"ssid-select\");\n                        selectField.innerHTML=\"\";\n                        selectField.innerHTML = `<option hidden disabled selected> -- SSID -- </option>`;\n                        for(let i=0;i < wifiNetworks.length;i++){\n                            let option = document.createElement(\"option\");\n                            option.text = wifiNetworks[i].ssid;\n                            selectField.add(option);\n                        }\n                    }\n                    else {\n                    }\n                } catch (e) {\n                    alert(error);\n                }\n            }\n            else if(xhttp.readyState === 4 && xhttp.status !== 200){\n                alert(\"Errore nella richiesta di rete: \"+xhttp.status);\n            }\n        }\n        xhttp.open(\"GET\", \"/scan\");\n        xhttp.send();\n    }\n    loadWifi();\n</script>\n</html>\n";
const char mqttConfigPage[] PROGMEM = "<!DOCTYPE html>\n<html lang=\"it\">\n<head>\n    <title>MQTT Configuration Page</title>\n    <link rel=\"stylesheet\" href=\"./style.css\">\n</head>\n\n<body>\n    <div class=\"conf-form\">\n        <div class=\"page-title\">MQTT</div>\n        <div id=\"mqtt-form\">\n            <form method=\"post\" target=\"_self\">\n                <div id=\"selection-result-div\">\n                    <div id=\"broker-textarea\" class=\"broker-textarea\">\n                        <label for=\"broker\">IP or hostname:</label>\n                        <input type=\"text\" name=\"broker\" value=\"%BROKER%\" id=\"broker\" required maxlength=\"50\">\n                    </div>\n                    <div id=\"port-textarea\" class=\"port-textarea\">\n                        <label for=\"port\">Port:</label>\n                        <input type=\"number\" name=\"port\" value=\"%PORT%\" id=\"port\" required>\n                    </div>\n                    <div id=\"user-textarea\" class=\"user-textarea\">\n                        <label for=\"username\">Username:</label>\n                        <input type=\"text\" name=\"username\" value=\"%USERNAME%\" id=\"username\" maxlength=\"30\">\n                    </div>\n                    <div class=\"pw-textarea\">\n                        <label for=\"password\">Password:</label>\n                        <input type=\"password\" name=\"password\" value=\"%PASSWORD%\" id=\"password\" maxlength=\"30\">\n                    </div>\n                    <div id=\"availability-topic-textarea\" class=\"availability-topic-textarea\">\n                        <label for=\"availability-topic\">Availability topic:</label>\n                        <input type=\"text\" name=\"availability-topic\" value=\"%AVAILABILITY_TOPIC%\" id=\"availability-topic\" maxlength=\"60\">\n                    </div>\n                    <div id=\"command-topic-textarea\" class=\"command-topic-textarea\">\n                        <label for=\"command-topic\">Command topic:</label>\n                        <input type=\"text\" name=\"command-topic\" value=\"%COMMAND_TOPIC%\" id=\"command-topic\" required maxlength=\"60\">\n                    </div>\n                    <div id=\"state-topic-textarea\" class=\"state-topic-textarea last-option\">\n                        <label for=\"state-topic\">Status topic:</label>\n                        <input type=\"text\" name=\"state-topic\" value=\"%STATE_TOPIC%\" id=\"state-topic\" required maxlength=\"60\">\n                    </div>\n\n                    <input id=\"menu-button\" class=\"menu-button\" type=\"submit\" value=\"SAVE\">\n                </div>\n            </form>\n        </divmid>\n    </div>\n</body>\n</html>\n";
const char indexPage[] PROGMEM = "<!DOCTYPE html>\n<html lang=\"it\">\n<head>\n    <title>Menu</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"conf-form\">\n        <div class=\"page-title\">CAME WIFI</div>\n        <div class=\"status\">MQTT: %MQTT_STATUS%</div>\n        <div class=\"menu\">\n            <button class=\"menu-button\" onclick=\"window.location.href='wifi'\">WiFi Configuration</button>\n            <button class=\"menu-button\" onclick=\"window.location.href='mqtt'\">MQTT Configuration</button>\n            <button class=\"menu-button\" onclick=\"window.location.href='module-configuration'\">Module Configuration</button>\n            <button class=\"red-button\" onclick=\"confirmReboot()\">Reboot</button>\n            <button class=\"red-button\" onclick=\"confirmReset()\">Reset</button>\n        </div>\n        <div class=\"version-number\">version 1.0</div>\n    </div>\n\n    <script>\n        function confirmReboot(){\n            if(confirm(\"Do you want reboot the module?\")){\n                const xhttp = new XMLHttpRequest();\n                xhttp.open(\"POST\", \"/reboot\",false);\n                xhttp.send();\n            }\n        }\n        function confirmReset(){\n            text = prompt(\"Do you want reset the module?\\nFor confirm type RESET below\");\n            if(text === \"RESET\") {\n                const xhttp = new XMLHttpRequest();\n                const form = new FormData();\n                form.append(\"checked\",true);\n                xhttp.onload = function () {\n                    if (xhttp.readyState === 4 && xhttp.status !== 200) {\n                        alert(\"Errore nella richiesta di rete: \" + xhttp.status);\n                    }\n                }\n                xhttp.open(\"POST\", \"/reset\");\n                xhttp.send();\n            }\n        }\n    </script>\n</body>\n</html>";
//const char style[] PROGMEM = "";